{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _dec, _class, _temp;\n\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport $ from 'jquery';\nimport { inject, observer } from 'mobx-react';\nimport Header from 'components/layout/header';\nimport Modal from 'components/modal';\nimport Title from 'components/pages/title';\nimport Logo from 'components/pages/logo';\nimport Tab from 'components/pages/tab';\nimport List from 'components/pages/list';\nimport Footer from 'components/pages/footer';\nimport HourlyWeather from 'components/pages/hourlyWeather';\nvar IndexPage = (_dec = inject('store'), _dec(_class = observer(_class = (_temp = /*#__PURE__*/function (_React$Component) {\n  _inherits(IndexPage, _React$Component);\n\n  var _super = _createSuper(IndexPage);\n\n  function IndexPage() {\n    var _this;\n\n    _classCallCheck(this, IndexPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      refresh: false\n    });\n\n    return _this;\n  }\n\n  _createClass(IndexPage, [{\n    key: \"changeTabMode\",\n    value: function changeTabMode() {\n      var height = $('#title').height() + $('#logo').height() + $('.tab').height();\n      $(window).scroll(function () {\n        var windowHeight = $(document).scrollTop();\n\n        if (windowHeight > height) {\n          $('.tab').removeClass('tab').addClass('mini-tab');\n          $('#list').css({\n            'margin-top': '290px'\n          });\n        } else {\n          $('.mini-tab').removeClass('mini-tab').addClass('tab');\n          $('#list').css({\n            'margin-top': '-50px'\n          });\n        }\n      });\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.setState({\n        refresh: true\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.changeTabMode();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var token = this.props.token || this.props.store.token;\n\n      if (token) {\n        {\n          this.props.store.signin(token);\n        }\n      }\n\n      return __jsx(\"div\", null, __jsx(Header, {\n        title: \"EASYWAY\"\n      }), __jsx(Title, {\n        isSignin: this.props.store.isSignin\n      }), __jsx(Logo, null), __jsx(Tab, {\n        handler: this.refresh.bind(this)\n      }), __jsx(List, {\n        refresh: this.state.refresh,\n        token: token\n      }), __jsx(Footer, null), __jsx(Modal, null, __jsx(HourlyWeather, {\n        refresh: this.state.refresh\n      })));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(ctx) {\n      return {\n        token: ctx.query.token\n      };\n    }\n  }]);\n\n  return IndexPage;\n}(React.Component), _temp)) || _class) || _class);\nexport default IndexPage;","map":null,"metadata":{},"sourceType":"module"}