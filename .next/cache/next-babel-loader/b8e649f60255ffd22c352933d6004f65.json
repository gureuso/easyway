{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/yjh/Documents/React/easyway/components/pages/list.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport moment from 'moment';\nimport $ from 'jquery';\nimport Modal from 'components/modal';\nimport { BusUI } from 'lib/bus';\nimport { WeatherAPI } from 'lib/weather';\nimport { SubwayUI } from 'lib/subway';\nimport { Interval } from 'lib/common';\n\nclass List extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"_ismounted\", true);\n\n    _defineProperty(this, \"state\", {\n      currentTime: '',\n      currentWeather: ''\n    });\n  }\n\n  setCurrentTime() {\n    const interval = new Interval();\n    interval.set(() => {\n      if (this._ismounted) {\n        this.setState({\n          currentTime: moment().format('HH:mm:ss')\n        });\n      }\n    }, 1000);\n  }\n\n  setCurrentWeather() {\n    const weatherAPI = new WeatherAPI();\n    weatherAPI.getCurrentWeather().then(data => {\n      if (this._ismounted) {\n        this.setState({\n          currentWeather: __jsx(\"div\", {\n            id: \"current_weather\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 37\n            },\n            __self: this\n          }, __jsx(\"div\", {\n            id: \"current_weather_title\",\n            className: \"list\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38\n            },\n            __self: this\n          }, __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39\n            },\n            __self: this\n          }, __jsx(\"img\", {\n            src: data.icon,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39\n            },\n            __self: this\n          })), __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40\n            },\n            __self: this\n          }, __jsx(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40\n            },\n            __self: this\n          }, data.temp, \"\\xB0\"))), __jsx(\"p\", {\n            id: \"current_weather_main\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 42\n            },\n            __self: this\n          }, data.main), __jsx(\"p\", {\n            id: \"current_weather_desc\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43\n            },\n            __self: this\n          }, data.desc), __jsx(\"div\", {\n            id: \"current_weather_more\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44\n            },\n            __self: this\n          }, __jsx(\"img\", {\n            src: \"/static/img/plus_btn_01.svg\",\n            onClick: Modal.active,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          })))\n        });\n      }\n    });\n  }\n\n  setCurrentBus() {\n    const target = $('#current_bus_message');\n    BusUI.setCurrentBus(target);\n  }\n\n  setCurrentSubway() {\n    const target = $('#current_subway_message');\n    SubwayUI.setCurrentSubway(target);\n  }\n\n  setAll() {\n    this.setCurrentTime();\n    this.setCurrentWeather();\n    this.setCurrentBus();\n    this.setCurrentSubway();\n  }\n\n  componentDidMount() {\n    this._ismounted = true;\n    this.setAll();\n  }\n\n  componentWillUnmount() {\n    this._ismounted = false;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.refresh == true) {\n      this.setAll();\n    }\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"inner-content\",\n      id: \"list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      id: \"current_time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, this.state.currentTime)), __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.state.currentWeather))));\n  }\n\n}\n\nexport default List;","map":{"version":3,"sources":["/Users/yjh/Documents/React/easyway/components/pages/list.tsx"],"names":["React","moment","$","Modal","BusUI","WeatherAPI","SubwayUI","Interval","List","Component","currentTime","currentWeather","setCurrentTime","interval","set","_ismounted","setState","format","setCurrentWeather","weatherAPI","getCurrentWeather","then","data","icon","temp","main","desc","active","setCurrentBus","target","setCurrentSubway","setAll","componentDidMount","componentWillUnmount","componentWillReceiveProps","nextProps","refresh","render","state"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,OAAOC,KAAP,MAAkB,kBAAlB;AACA,SAASC,KAAT,QAAsB,SAAtB;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,SAASC,QAAT,QAAyB,YAAzB;;AAMA,MAAMC,IAAN,SAAmBR,KAAK,CAACS,SAAzB,CAA8C;AAAA;AAAA;;AAAA,wCACtB,IADsB;;AAAA,mCAGpC;AACNC,MAAAA,WAAW,EAAE,EADP;AAENC,MAAAA,cAAc,EAAE;AAFV,KAHoC;AAAA;;AAQ5CC,EAAAA,cAAc,GAAG;AACf,UAAMC,QAAQ,GAAG,IAAIN,QAAJ,EAAjB;AACAM,IAAAA,QAAQ,CAACC,GAAT,CAAa,MAAM;AACjB,UAAG,KAAKC,UAAR,EAAoB;AAClB,aAAKC,QAAL,CAAc;AAACN,UAAAA,WAAW,EAAET,MAAM,GAAGgB,MAAT,CAAgB,UAAhB;AAAd,SAAd;AACD;AACF,KAJD,EAIG,IAJH;AAKD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,UAAU,GAAG,IAAId,UAAJ,EAAnB;AACAc,IAAAA,UAAU,CAACC,iBAAX,GAA+BC,IAA/B,CAAqCC,IAAD,IAAe;AACjD,UAAG,KAAKP,UAAR,EAAoB;AAClB,aAAKC,QAAL,CAAc;AAACL,UAAAA,cAAc,EAC3B;AAAK,YAAA,EAAE,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAK,YAAA,EAAE,EAAC,uBAAR;AAAgC,YAAA,SAAS,EAAC,MAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAK;AAAK,YAAA,GAAG,EAAEW,IAAI,CAACC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAL,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAID,IAAI,CAACE,IAAT,SAAL,CAFF,CADF,EAKE;AAAG,YAAA,EAAE,EAAC,sBAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA8BF,IAAI,CAACG,IAAnC,CALF,EAME;AAAG,YAAA,EAAE,EAAC,sBAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA8BH,IAAI,CAACI,IAAnC,CANF,EAOE;AAAK,YAAA,EAAE,EAAC,sBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAK,YAAA,GAAG,EAAC,6BAAT;AAAuC,YAAA,OAAO,EAAEvB,KAAK,CAACwB,MAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CAPF;AADY,SAAd;AAaD;AACF,KAhBD;AAiBD;;AAEDC,EAAAA,aAAa,GAAG;AACd,UAAMC,MAAM,GAAG3B,CAAC,CAAC,sBAAD,CAAhB;AACAE,IAAAA,KAAK,CAACwB,aAAN,CAAoBC,MAApB;AACD;;AAEDC,EAAAA,gBAAgB,GAAG;AACjB,UAAMD,MAAM,GAAG3B,CAAC,CAAC,yBAAD,CAAhB;AACAI,IAAAA,QAAQ,CAACwB,gBAAT,CAA0BD,MAA1B;AACD;;AAEDE,EAAAA,MAAM,GAAG;AACP,SAAKnB,cAAL;AACA,SAAKM,iBAAL;AACA,SAAKU,aAAL;AACA,SAAKE,gBAAL;AACD;;AAEDE,EAAAA,iBAAiB,GAAG;AAClB,SAAKjB,UAAL,GAAkB,IAAlB;AACA,SAAKgB,MAAL;AACD;;AAEDE,EAAAA,oBAAoB,GAAG;AACpB,SAAKlB,UAAL,GAAkB,KAAlB;AACF;;AAEDmB,EAAAA,yBAAyB,CAACC,SAAD,EAAiB;AACxC,QAAGA,SAAS,CAACC,OAAV,IAAqB,IAAxB,EAA8B;AAC5B,WAAKL,MAAL;AACD;AACF;;AAEDM,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAA+B,MAAA,EAAE,EAAC,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,EAAE,EAAC,cAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsB,KAAKC,KAAL,CAAW5B,WAAjC,CADF,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAK4B,KAAL,CAAW3B,cADd,CAJF,CADF,CADF,CADF;AA0BD;;AAjG2C;;AAoG9C,eAAeH,IAAf","sourcesContent":["import React from 'react';\nimport moment from 'moment';\nimport $ from 'jquery';\n\nimport Modal from 'components/modal';\nimport { BusUI } from 'lib/bus';\nimport { WeatherAPI } from 'lib/weather';\nimport { SubwayUI } from 'lib/subway';\nimport { Interval } from 'lib/common';\n\ninterface ListProps {\n  refresh: boolean\n}\n\nclass List extends React.Component<ListProps> {\n  _ismounted: boolean = true;\n\n  state = {\n    currentTime: '',\n    currentWeather: ''\n  };\n\n  setCurrentTime() {\n    const interval = new Interval();\n    interval.set(() => {\n      if(this._ismounted) {\n        this.setState({currentTime: moment().format('HH:mm:ss')});\n      }\n    }, 1000);\n  }\n\n  setCurrentWeather() {\n    const weatherAPI = new WeatherAPI();\n    weatherAPI.getCurrentWeather().then((data: any) => {\n      if(this._ismounted) {\n        this.setState({currentWeather: (\n          <div id=\"current_weather\">\n            <div id=\"current_weather_title\" className=\"list\">\n              <div><img src={data.icon}/></div>\n              <div><p>{data.temp}°</p></div>\n            </div>\n            <p id=\"current_weather_main\">{data.main}</p>\n            <p id=\"current_weather_desc\">{data.desc}</p>\n            <div id=\"current_weather_more\">\n              <img src=\"/static/img/plus_btn_01.svg\" onClick={Modal.active}/>\n            </div>\n          </div>\n        )});\n      }\n    });\n  }\n\n  setCurrentBus() {\n    const target = $('#current_bus_message');\n    BusUI.setCurrentBus(target);\n  }\n\n  setCurrentSubway() {\n    const target = $('#current_subway_message');\n    SubwayUI.setCurrentSubway(target);\n  }\n\n  setAll() {\n    this.setCurrentTime();\n    this.setCurrentWeather();\n    this.setCurrentBus();\n    this.setCurrentSubway();\n  }\n\n  componentDidMount() {\n    this._ismounted = true;\n    this.setAll();\n  }\n  \n  componentWillUnmount() {\n     this._ismounted = false;\n  }\n\n  componentWillReceiveProps(nextProps: any) {\n    if(nextProps.refresh == true) {\n      this.setAll();\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"content\">\n        <div className=\"inner-content\" id=\"list\">\n          <div className=\"list\">\n            <div>\n              <p id=\"current_time\">{this.state.currentTime}</p>\n            </div>\n            <div>\n              {this.state.currentWeather}\n            </div>\n            {/* <div>\n              <div className=\"current_bus\">\n                <p className=\"current_bus_title\">6613</p>\n                <p className=\"current_bus_message\"></p>\n              </div>\n            </div>\n            <div>\n              <div className=\"current_subway\">\n                <p className=\"current_subway_title\">대림역</p>\n                <p className=\"current_subway_message\"></p>\n              </div>\n            </div> */}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default List;\n"]},"metadata":{},"sourceType":"module"}